一个zookeeper是一个集群
一个集群由多个节点组成，其中一个是leader节点，其余的是非leader节点，所有节点必须互相知道彼此的存在
如果leader节点失败后，其余的节点可以通过选举产生新的leader节点
其中leader节点可以提供读写请求，其余的节点只提供读请求，但是可以接收写请求并转发给leader节点
内存中保留有整个集群的状态
一个写请求过来后，除了修改内存中的状态之外，该写请求也会被持久化为一条事务日志，整个内存状态会定期快照并持久化
主节点执行完写请求后，会把这个写请求再传播给其余的节点
对于主节点上的读请求，一定可以获取最新数据，对于其余节点的读请求，则数据不一定最新，可以调用sync先让数据进行同步，然后再读取